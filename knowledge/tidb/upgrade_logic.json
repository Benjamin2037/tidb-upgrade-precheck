{
  "component": "tidb",
  "changes": [
    {
      "version": "68",
      "name": "tidb_enable_clustered_index",
      "var_name": "tidb_enable_clustered_index",
      "value": "",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer68",
      "method": "mustExecute",
      "severity": "low-medium"
    },
    {
      "version": "71",
      "name": "tidb_multi_statement_mode",
      "var_name": "tidb_multi_statement_mode",
      "value": "OFF",
      "from_value": "WARN",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer71",
      "method": "mustExecute",
      "severity": "medium"
    },
    {
      "version": "74",
      "name": "tidb_stmt_summary_max_stmt_count",
      "var_name": "tidb_stmt_summary_max_stmt_count",
      "value": "%[1]v",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer74",
      "method": "mustExecute",
      "severity": "medium"
    },
    {
      "version": "80",
      "name": "tidb_analyze_version",
      "var_name": "tidb_analyze_version",
      "value": "1",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer80",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "81",
      "name": "tidb_enable_index_merge",
      "var_name": "tidb_enable_index_merge",
      "value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer81",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "97",
      "name": "tidb_opt_range_max_size",
      "var_name": "tidb_opt_range_max_size",
      "value": "0",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer97",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "105",
      "name": "tidb_cost_model_version",
      "var_name": "tidb_cost_model_version",
      "value": "1",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer105",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "134",
      "name": "foreign_key_checks",
      "var_name": "foreign_key_checks",
      "value": "ON",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer134",
      "method": "mustExecute-REPLACE",
      "severity": "medium"
    },
    {
      "version": "134",
      "name": "tidb_enable_foreign_key",
      "var_name": "tidb_enable_foreign_key",
      "value": "ON",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer134",
      "method": "mustExecute-REPLACE",
      "severity": "medium"
    },
    {
      "version": "134",
      "name": "tidb_enable_historical_stats",
      "var_name": "tidb_enable_historical_stats",
      "value": "ON",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer134",
      "method": "mustExecute-REPLACE",
      "severity": "medium"
    },
    {
      "version": "134",
      "name": "tidb_enable_plan_replayer_capture",
      "var_name": "tidb_enable_plan_replayer_capture",
      "value": "ON",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer134",
      "method": "mustExecute-REPLACE",
      "severity": "medium"
    },
    {
      "version": "134",
      "name": "4",
      "var_name": "4",
      "value": "tidb_store_batch_size",
      "from_value": "\"0\"",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer134",
      "method": "mustExecute-UPDATE",
      "severity": "medium"
    },
    {
      "version": "135",
      "name": "tidb_opt_advanced_join_hint",
      "var_name": "tidb_opt_advanced_join_hint",
      "value": "false",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer135",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "138",
      "name": "tidb_enable_null_aware_anti_join",
      "var_name": "tidb_enable_null_aware_anti_join",
      "value": "ON",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer138",
      "method": "mustExecute-REPLACE",
      "severity": "medium"
    },
    {
      "version": "141",
      "name": "tidb_load_based_replica_read_threshold",
      "var_name": "tidb_load_based_replica_read_threshold",
      "value": "def_ti_db_load_based_replica_read_threshold.string(",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer141",
      "method": "mustExecute-REPLACE",
      "severity": "medium"
    },
    {
      "version": "142",
      "name": "tidb_enable_non_prepared_plan_cache",
      "var_name": "tidb_enable_non_prepared_plan_cache",
      "value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer142",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "144",
      "name": "tidb_plan_cache_invalidation_on_fresh_stats",
      "var_name": "tidb_plan_cache_invalidation_on_fresh_stats",
      "value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer144",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "177",
      "name": "vardef",
      "var_name": "vardef",
      "value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer177",
      "method": "SetGlobalSysVar",
      "severity": "medium"
    },
    {
      "version": "209",
      "name": "tidb_resource_control_strict_mode",
      "var_name": "tidb_resource_control_strict_mode",
      "value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer209",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "210",
      "name": "tidb_analyze_column_options",
      "var_name": "tidb_analyze_column_options",
      "value": "ast.AllColumns.String(",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer210",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "210",
      "name": "tidb_opt_projection_push_down",
      "var_name": "tidb_opt_projection_push_down",
      "value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer210",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "215",
      "name": "tidb_enable_inl_join_inner_multi_pattern",
      "var_name": "tidb_enable_inl_join_inner_multi_pattern",
      "value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer215",
      "method": "initGlobalVariableIfNotExists",
      "severity": "medium"
    },
    {
      "version": "216",
      "name": "tidb_scatter_region",
      "var_name": "tidb_scatter_region",
      "value": "",
      "from_value": "OFF",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer216",
      "method": "mustExecute",
      "severity": "medium"
    },
    {
      "version": "216",
      "name": "tidb_scatter_region",
      "var_name": "tidb_scatter_region",
      "value": "table",
      "from_value": "ON",
      "force": true,
      "type": "system_variable",
      "func_name": "upgradeToVer216",
      "method": "mustExecute",
      "severity": "medium"
    },
    {
      "version": "217",
      "name": "tidb_schema_cache_size",
      "var_name": "tidb_schema_cache_size",
      "value": "0",
      "force": false,
      "type": "system_variable",
      "func_name": "upgradeToVer217",
      "method": "mustExecute-INSERT-IGNORE",
      "severity": "medium"
    }
  ]
}